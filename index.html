<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button class="rock">Rock</button>
    <button class="paper">Paper</button>
    <button class="scissors">Scissors</button>
    <p></p>
</body>
<script>

  let choices = ["Rock", "Paper", "Scissors"];
  let score = 0;
  let computerScore = 0;
  let rounds = 1;

  let p = document.querySelector("p");
  let child = document.createElement("p");
  child.textContent = "Select a button above: (Rock, Paper, or Scissors)";
  p.appendChild(child);

  function getComputerChoice() {
    return choices[Math.floor(Math.random() * choices.length)];
  }

  function playRound(playerSelection, computerSelection) {
    if (playerSelection.toLowerCase() == "rock") {
      if (computerSelection.toLowerCase() == "rock") {
        return `Tie! ${playerSelection} ties with ${playerSelection}`;
      } else if (computerSelection.toLowerCase() == "paper") {
        computerScore++;
        return `You Lose! ${computerSelection} beats ${playerSelection}`;
      } else {
        score++;
        return `You Win! ${playerSelection} beats ${computerSelection}`;
      }
    } else if (playerSelection.toLowerCase() == "paper") {
      if (computerSelection.toLowerCase() == "paper") {
        return `Tie! ${playerSelection} ties with ${playerSelection}`;
      } else if (computerSelection.toLowerCase() == "scissors") {
        computerScore++;
        return `You Lose! ${computerSelection} beats ${playerSelection}`;
      } else {
        score++;
        return `You Win! ${playerSelection} beats ${computerSelection}`;
      }
    } else if (playerSelection.toLowerCase() == "scissors") {
      if (computerSelection.toLowerCase() == "scissors") {
        return `Tie! ${playerSelection} ties with ${playerSelection}`;
      } else if (computerSelection.toLowerCase() == "rock") {
        computerScore++;
        return `You Lose! ${computerSelection} beats ${playerSelection}`;
      } else {
        score++;
        return `You Win! ${playerSelection} beats ${computerSelection}`;
      }
    }
  }
  
  let btnRock = document.querySelector(".rock");
  btnRock.addEventListener("click", () => {
    round();
    child = document.createElement("p");
    child.textContent = "You selected Rock!";
    p.appendChild(child);
    game("Rock");
  });

  let btnPaper = document.querySelector(".paper");
  btnPaper.addEventListener("click", () => {
    round();
    child = document.createElement("p");
    child.textContent = "You selected Paper!";
    p.appendChild(child);
    game("Paper");
  });

  let btnScissors = document.querySelector(".scissors");
  btnScissors.addEventListener("click", () => {
    round();
    child = document.createElement("p");
    child.textContent = "You selected Scissors!";
    p.appendChild(child);
    game("Scissors");
  });

  function round() {
    child = document.createElement("p");
    child.textContent = `Round ${rounds}`;
    p.appendChild(child);
  }

  function game(playerSelection) {
    let computerSelection = getComputerChoice();
    
    child = document.createElement("p");
    child.textContent = `Computer selected ${computerSelection}!`;
    p.appendChild(child);

    child = document.createElement("p");
    child.textContent = playRound(playerSelection, computerSelection);
    p.appendChild(child);
    rounds++;

    if (score >= 5 || computerScore >= 5) {
      child = document.createElement("p");
      child.textContent = `Your final score: ${score}, Computer final score: ${computerScore}`;
      p.appendChild(child);
      child = document.createElement("p");
      
      if (score > computerScore) {
        child.textContent = "=== You are the Winner! :) ===";
      } else {
        child.textContent = "=== You are the Loser! :( ===";
      }
      p.appendChild(child);


      child = document.createElement("p");
      child.textContent = `Play again...`;
      p.appendChild(child);
      score = 0;
      computerScore = 0;
      rounds = 1;

    }
  }

  // const playerSelection = prompt("Enter an option: (Rock, Paper, or Scissors)");
  

  // game();

</script>
</html>